"use strict";var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var CustomScrollSpy=function(){function a(){var h=this;function b(j){var k=j.data.slideNodeId;0<j.deltaY?0<k&&function(){var l=c.targets[k-1].selector;$(".navbar-right a[href='"+l+"']").click(),$(l+" > .container").off("mousewheel"),setTimeout(function(){$(l+" > .container").on("mousewheel",{slideNodeId:k-1},b)},2e3)}():function(){var l=c.targets[k+1].selector;$(".navbar-right a[href='"+l+"']").click(),$(l+" > .container").off("mousewheel"),setTimeout(function(){$(l+" > .container").on("mousewheel",{slideNodeId:k+1},b)},2e3)}()}_classCallCheck(this,a);var c=this;console.log("CustomScrollSpy created"),this.targets=[],this.currentSlide="",this.prevSlide="";for(var d=$("body").attr("data-scrollspy-target").split(",").map(function(j){return j.trim()}),e=$(d.map(function(j){return j+" a"}).join()),f=0;f<e.length;f++)this.targets.push(e[f].href.match(/\#([a-zA-Z0-9_-]+)?/)[0]);console.log(this.targets);for(var g=0;g<this.targets.length;g++)$(this.targets[g]+" > .container").on("mousewheel",{slideNodeId:g},b);this.targets=this.targets.map(function(j){var k={selector:j,offsetTop:$(j).offset().top,hideActionsList:[],actionsList:[function(){$(e).parents("li").removeClass("active"),$("a[href='"+j+"']").parents("li").addClass("active")}]};return $("a[href='"+j+"']").click(function(l){var n,m=$(".navbar-right a[href='"+j+"']");return console.log($(l.target).hasClass("navbar-brand")),console.log($(l.target).parent().hasClass("navbar-brand")),n=$(l.target).hasClass("navbar-brand")||$(l.target).parent().hasClass("navbar-brand")?-32:m.offset().left-$(".navbar-right").offset().left+16,$(".navbar-top .navbar-right").css("background-position",n+"px bottom"),h.show(j),!1}),k})}return _createClass(a,[{key:"init",value:function init(){console.log("CustomScrollSpy initialized"),this.show(this.targets[0].selector)}},{key:"hide",value:function hide(){if(console.log("--h-start--"),console.log("prev:",this.prevSlide),console.log("current:",this.currentSlide),""!==this.prevSlide)for(var b=0;b<this.targets.length;b++)if(this.targets[b].selector===this.prevSlide){console.log("hiding "+this.prevSlide);var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var d,e,c=this.targets[b].hideActionsList[Symbol.iterator]();!(_iteratorNormalCompletion=(d=c.next()).done);_iteratorNormalCompletion=!0)e=d.value,e()}catch(f){_didIteratorError=!0,_iteratorError=f}finally{try{!_iteratorNormalCompletion&&c.return&&c.return()}finally{if(_didIteratorError)throw _iteratorError}}}}},{key:"show",value:function show(b){var d=this;if(b!==this.currentSlide){this.hide(),console.log(b),this.currentSlide=b;for(var c=0;c<this.targets.length;c++)if(this.targets[c].selector===this.currentSlide){var _ret3=function(){var e=d.targets[c];return console.log("show events on ",b),setTimeout(function(){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var g,h,f=e.actionsList[Symbol.iterator]();!(_iteratorNormalCompletion2=(g=f.next()).done);_iteratorNormalCompletion2=!0)h=g.value,h()}catch(j){_didIteratorError2=!0,_iteratorError2=j}finally{try{!_iteratorNormalCompletion2&&f.return&&f.return()}finally{if(_didIteratorError2)throw _iteratorError2}}},100),d.prevSlide=d.currentSlide,console.log("--s-end--"),"break"}();if("break"===_ret3)break}}}},{key:"addAction",value:function addAction(b,c){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var e,f,d=this.targets[Symbol.iterator]();!(_iteratorNormalCompletion3=(e=d.next()).done);_iteratorNormalCompletion3=!0)f=e.value,f.selector==b&&f.actionsList.push(c)}catch(g){_didIteratorError3=!0,_iteratorError3=g}finally{try{!_iteratorNormalCompletion3&&d.return&&d.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}},{key:"addHideAction",value:function addHideAction(b,c){var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var e,f,d=this.targets[Symbol.iterator]();!(_iteratorNormalCompletion4=(e=d.next()).done);_iteratorNormalCompletion4=!0)f=e.value,f.selector==b&&f.hideActionsList.push(c)}catch(g){_didIteratorError4=!0,_iteratorError4=g}finally{try{!_iteratorNormalCompletion4&&d.return&&d.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}}]),a}();
